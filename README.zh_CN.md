# 简介
GcRpc是一个基于etcd的rpc框架，支持服务发现、负载均衡、服务调用等功能。

# 安装
项目还不是很完善，因此并不能直接使用，TODO

# 特性
- 服务发现，基于etcd实现
- 负载均衡，支持轮询、随机、最佳分数等算法
- 服务调用，支持同步调用和异步调用
- 服务注册，服务端自动注册到etcd中

# 客户端
客户端服务调用使用`RpcCaller`类，该类维护多个线程，每个线程具有自己的任务队列。

在`RpcCaller`类中，客户端会根据服务名，从etcd中获取服务节点列表，然后根据负载均衡算法，选择一个节点，将请求发送到该节点。这里支持的负载均衡算法有：
- 轮询，配置名称为`robin`
- 随机，配置名称为`random`
- 最佳分数，配置名称为`score`，它是基于服务端的当前连接数和最大连接数


客户端支持支持同步调用和异步调用：
- 同步调用，调用`call`方法
- 异步调用，调用`asyncCall`方法，它基于future/promise实现，返回一个`std::future`对象，调用`get`方法等待结果。


# 服务端
服务端需要继承`RpcService`类，实现`handleRequest`方法，然后创建一个服务端对象，调用对象的`start`方法即可。
服务端会进行服务注册，将服务名和服务对象注册到etcd中。
